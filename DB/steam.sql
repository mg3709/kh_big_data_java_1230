CREATE TABLE USER_INFO(
	USER_NAME VARCHAR2(20) NOT NULL PRIMARY KEY,
	ID VARCHAR2(20) NOT NULL,
	PWD VARCHAR2(20) NOT NULL CHECK(LENGTH(PWD) >= 8),
	MONEY NUMBER NOT NULL,
	EMAIL VARCHAR2(20) UNIQUE,
	ADDR VARCHAR2(20) UNIQUE
);


INSERT INTO USER_INFO VALUES('홍길동', 'hgd24', 'hgd123123', 100000, 'hgd@naver.com', 'SEOUL');
INSERT INTO USER_INFO VALUES('이순신', 'lss12', 'lss123123', 88000, 'lss12@gmail.com', 'BUSAN');
INSERT INTO USER_INFO VALUES('홍인구', 'hig34', 'hig123123', 45000, 'hig34@naver.com', 'ULSAN');



SELECT * FROM USER_INFO;

CREATE TABLE GAME(
	GAME_NAME VARCHAR2(20) PRIMARY KEY,
	PRICE NUMBER NOT NULL,
	GENRE VARCHAR2(20) NOT NULL
);

INSERT INTO GAME VALUES('BATTLEGROUND', 36000, 'FPS');
INSERT INTO GAME VALUES('CALL OF DUTY', 54000, 'FPS');
INSERT INTO GAME VALUES('DARK SOULS', 50000, 'RPG');
INSERT INTO GAME VALUES('DEAD SPACE', 66000, 'FPS');
INSERT INTO GAME VALUES('DYING LIGHT', 54000, 'FPS');
INSERT INTO GAME VALUES('CIVILIZATION', 65500, 'ADVENTURE');
INSERT INTO GAME VALUES('FALL OUT', 22000, 'RPG');
INSERT INTO GAME VALUES('FIFA22', 66000, 'SPORTS');
INSERT INTO GAME VALUES('FIFA23', 77000, 'SPORTS');
INSERT INTO GAME VALUES('GRAND THEFT AUTO V', 33000, 'ADVENTURE');
INSERT INTO GAME VALUES('MONSTER HUNTER', 48000, 'RPG');
INSERT INTO GAME VALUES('RUST', 46000, 'ADVENTURE');
INSERT INTO GAME VALUES('THE WITCHER', 35000, 'ADVENTURE');
INSERT INTO GAME VALUES('TERRARIA', 10500, 'RPG');
INSERT INTO GAME VALUES('ZOMBOID', 20000, 'ADVENTURE');

SELECT * FROM GAME;

CREATE TABLE BUY(
	USER_NAME VARCHAR2(20) REFERENCES USER_INFO(USER_NAME),
	GAME_NAME VARCHAR2(20) CONSTRAINT BUY_GAMENAME_RF REFERENCES GAME(GAME_NAME),
	CARDNUM VARCHAR2(20) REFERENCES POINT (CARDNUM),
	CNT NUMBER NOT NULL CHECK(CNT >= 1),
	BUY_DATE DATE NOT NULL
);

INSERT INTO BUY VALUES('홍길동', 'FIFA22', '913501', 1, '2022-10-25');
INSERT INTO BUY VALUES('이순신', 'ZOMBOID', '913502', 1, '2022-01-03');
INSERT INTO BUY VALUES('홍인구', 'BATTLEGROUND', '913503', 1, '2022-11-12');

SELECT * FROM BUY;

CREATE TABLE POINT(
	USER_NAME VARCHAR2(20) REFERENCES USER_INFO(USER_NAME),
	POINT NUMBER DEFAULT 500,
	CARDNUM VARCHAR2(20) PRIMARY KEY
);

INSERT INTO POINT VALUES('홍길동', 1500, '913501');
INSERT INTO POINT VALUES('이순신', 4000, '913502');
INSERT INTO POINT VALUES('홍인구', 5500, '913503');

SELECT * FROM POINT;